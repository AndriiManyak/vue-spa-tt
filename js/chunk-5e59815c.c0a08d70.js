(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5e59815c"],{"1d3f":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"contact"},[n("section",{staticClass:"contact__wrapper"},[n("div",{staticClass:"contact__main"},[n("h2",{staticClass:"contact__field"},[t._v(" "+t._s(t.visualInformation.name)+" "),n("button",{staticClass:"contact__button button button--edit",attrs:{type:"button"},on:{click:function(e){return t.showEditForm("name")}}},[t._v(" ✎ ")])]),t._l(Object.keys(t.visualInformation.information),(function(e){return n("div",{key:e,staticClass:"contact__field"},[n("h5",{staticClass:"contact__field-name"},[t._v(" "+t._s(e)+": ")]),n("span",[t._v(" "+t._s(t.visualInformation.information[e])+" ")]),n("button",{staticClass:"contact__button button button--edit",attrs:{type:"button"},on:{click:function(n){return t.showEditForm(e)}}},[t._v(" ✎ ")]),n("button",{staticClass:"contact__button button button--delete",attrs:{type:"button"},on:{click:function(n){return t.showDeleteMenu(e)}}},[t._v(" ✖ ")])])}))],2),n("div",[n("button",{staticClass:"contact__button button button--revert",attrs:{type:"button",disabled:!this.contactStates.length},on:{click:t.cancelLastChange}},[t._v(" ← Revert ")]),n("button",{staticClass:"contact__button button button--new-field",attrs:{type:"button"},on:{click:t.showNewFieldForm}},[t._v(" Add new information ")])])]),n("router-link",{attrs:{to:"/"}},[t._v("Back")]),t.isAddingNewField?n("new-field-form",{on:{"add-new-field":t.addNewField,"hide-field-form":t.hideNewFieldForm}}):t._e(),t.isEditing?n("edit-form",{on:{"edit-field":t.editField,"hide-edit-form":t.hideEditForm}}):t._e(),t.isDeleting?n("delete-menu",{on:{"hide-menu":t.hideDeleteMenu,"delete-element":t.deleteField}}):t._e()],1)},a=[],o=(n("7db0"),n("4160"),n("b0c0"),n("b64b"),n("159b"),n("5530"));n("a4d3"),n("c975");function s(t,e){if(null==t)return{};var n,i,a={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(a[n]=t[n]);return a}function r(t,e){if(null==t)return{};var n,i,a=s(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}var c=n("c0d6"),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"new-field"},[n("div",{staticClass:"new-field__wrapper"},[n("div",{staticClass:"new-field__heading"},[n("h2",[t._v("New field")]),n("button",{staticClass:"new-field__close",attrs:{type:"button"},on:{click:t.hideForm}},[t._v(" ✖ ")])]),n("form",{staticClass:"new-field__form form",on:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.name,expression:"formData.name"}],staticClass:"new-field__input",class:{"new-field__input--error":t.formErrors.name},attrs:{type:"text",name:"name",placeholder:"Name"},domProps:{value:t.formData.name},on:{change:function(e){return t.handleChange(e)},input:function(e){e.target.composing||t.$set(t.formData,"name",e.target.value)}}}),t.formErrors.name?n("span",{staticClass:"new-field__error"},[t._v("Name is required")]):t._e(),n("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.value,expression:"formData.value"}],staticClass:"new-field__input",class:{"new-field__input--error":t.formErrors.value},attrs:{type:"text",name:"value",placeholder:"Value"},domProps:{value:t.formData.value},on:{change:function(e){return t.handleChange(e)},input:function(e){e.target.composing||t.$set(t.formData,"value",e.target.value)}}}),t.formErrors.value?n("span",{staticClass:"new-field__error"},[t._v("Value is required")]):t._e(),n("button",{staticClass:"new-field__submit",attrs:{type:"submit"}},[t._v(" Add new field ")])])])])},u=[],d={name:"NewFieldForm",data:function(){return{formErrors:{name:!1,value:!1},formData:{name:"",value:""}}},methods:{handleChange:function(t){this.formErrors[t.target.name]=!1},handleSubmit:function(){this.validateForm()&&(this.$emit("add-new-field",this.formData),this.hideForm())},hideForm:function(){this.$emit("hide-field-form")},validateForm:function(){var t=this.formData,e=t.name,n=t.value,i=!0;return e||(this.formErrors.name=!0,i=!1),n||(this.formErrors.value=!0,i=!1),i}}},f=d,m=(n("dd37"),n("2877")),h=Object(m["a"])(f,l,u,!1,null,null,null),v=h.exports,_=n("711b"),b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"new-contact"},[n("div",{staticClass:"new-contact__wrapper"},[n("div",{staticClass:"new-contact__heading"},[n("h2",[t._v("Edit")]),n("button",{staticClass:"new-contact__close",attrs:{type:"button"},on:{click:t.hideForm}},[t._v(" ✖ ")])]),n("form",{staticClass:"new-contact__form form",on:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],staticClass:"new-contact__input",class:{"new-contact__input--error":t.valueError},attrs:{type:"text",name:"name",placeholder:"new value"},domProps:{value:t.value},on:{change:t.handleChange,input:function(e){e.target.composing||(t.value=e.target.value)}}}),t.valueError?n("span",{staticClass:"new-contact__error"},[t._v("Value is required")]):t._e(),n("button",{staticClass:"new-contact__submit",attrs:{type:"submit"}},[t._v(" Edit ")])])])])},p=[],w={name:"EditForm",data:function(){return{valueError:!1,value:""}},methods:{handleChange:function(){this.valueError=!1},handleSubmit:function(){this.validateForm()&&(this.$emit("edit-field",this.value),this.value="",this.hideForm())},hideForm:function(){this.$emit("hide-edit-form")},validateForm:function(){return!!this.value||(this.valueError=!0,!1)}}},g=w,F=(n("e899"),Object(m["a"])(g,b,p,!1,null,"09b2233e",null)),C=F.exports,E={data:function(){return{contact:{},contactStates:[],fieldToDelete:"",fieldToEdit:"",contactId:this.$route.params.id,isAddingNewField:!1,isDeleting:!1,isEditing:!1,mainKey:0}},components:{NewFieldForm:v,DeleteMenu:_["a"],EditForm:C},mounted:function(){var t=this;this.contact=c["a"].contacts.find((function(e){return e.id===t.contactId}))},computed:{visualInformation:function(){var t=this.contact,e=(t.id,t.name),n=r(t,["id","name"]);return{name:e,information:n}}},methods:{showNewFieldForm:function(){this.isAddingNewField=!0},hideNewFieldForm:function(){this.isAddingNewField=!1},addNewField:function(t){this.contactStates.push(Object(o["a"])({},this.contact));var e=t.name,n=t.value;this.$set(this.contact,e,n)},showDeleteMenu:function(t){this.fieldToDelete=t,this.isDeleting=!0},hideDeleteMenu:function(){this.isDeleting=!1},deleteField:function(){this.contactStates.push(Object(o["a"])({},this.contact)),this.$delete(this.contact,this.fieldToDelete)},showEditForm:function(t){this.isEditing=!0,this.fieldToEdit=t},hideEditForm:function(){this.isEditing=!1},editField:function(t){this.contactStates.push(Object(o["a"])({},this.contact)),this.$set(this.contact,this.fieldToEdit,t)},cancelLastChange:function(){var t=this,e=this.contactStates.pop();Object.keys(this.contact).forEach((function(e){delete t.contact[e]})),Object.keys(e).forEach((function(n){t.$set(t.contact,n,e[n])}))}}},y=E,D=(n("c633"),Object(m["a"])(y,i,a,!1,null,"29001559",null));e["default"]=D.exports},"58b9":function(t,e,n){},"7db0":function(t,e,n){"use strict";var i=n("23e7"),a=n("b727").find,o=n("44d2"),s=n("ae40"),r="find",c=!0,l=s(r);r in[]&&Array(1)[r]((function(){c=!1})),i({target:"Array",proto:!0,forced:c||!l},{find:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),o(r)},"8d0d":function(t,e,n){},c633:function(t,e,n){"use strict";n("ed39")},dd37:function(t,e,n){"use strict";n("58b9")},e899:function(t,e,n){"use strict";n("8d0d")},ed39:function(t,e,n){}}]);
//# sourceMappingURL=chunk-5e59815c.c0a08d70.js.map